(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{500:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),l=s(r),o=s(a(1)),i=s(a(453)),d=a(771);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.fields,u=e.type,r=e.isValid,l=e.disabled,o=e.filterKeyCodes,i=e.forceUppercase,s=e.value;i&&(s=s.toUpperCase()),a.state={value:s,fields:n,type:u,input:[],isValid:r,disabled:l,filterKeyCodes:o,defaultInputStyle:{fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",paddingRight:0,width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"}};for(var c=0;c<Number(a.state.fields);c+=1)if(c<32){var p=a.state.value[c]||"";a.state.input.push(p)}return a.textInput=[],a.uuid=(0,d.uuidv4)(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),u(t,[{key:"componentDidUpdate",value:function(e,t){e.value!==t.value&&this.handleValuePropChanged(t.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isValid:e.isValid,value:e.value,disabled:e.disabled})}},{key:"getFilteredValue",value:function(e){var t=this.props,a=t.filterChars,n=t.filterCharsIsWhitelist;return e.split("").filter(function(e){return n?a.includes(e):!a.includes(e)}).join("")}},{key:"getUpdatedStateOnValueChange",value:function(e,t){var a=this;this.props.forceUppercase&&(t=t.toUpperCase()),"number"===this.state.type&&(t=t.replace(/[^\d]/g,"")),t=this.getFilteredValue(t);var n=this.state.input.slice();t.length>1?t.split("").map(function(t,u){return Number(e.dataset.id)+u<a.props.fields&&(n[Number(e.dataset.id)+u]=t),!1}):1===t.length?n[Number(e.dataset.id)]=t:n.map(function(){return""}),n.map(function(e,t){return a.textInput[t]&&(a.textInput[t].value=e),!1});var u=this.textInput[e.dataset.id<n.length?Number(e.dataset.id)+1:e.dataset.id];return u&&(u.focus(),u.select()),fullValue=n.join(""),{value:fullValue,input:n}}},{key:"handleValuePropChanged",value:function(e){this.getUpdatedStateOnValueChange(this.textInput[0],e)}},{key:"handleBlur",value:function(e){this.handleTouch(e.target.value)}},{key:"handleTouch",value:function(e){var t=this.props,a=t.touch,n=t.untouch,u=t.name;"function"==typeof a&&"function"==typeof n&&(""===e?a(u):n(u))}},{key:"handleChange",value:function(e){var t=String(e.target.value),a=this.getUpdatedStateOnValueChange(e.target,t),n=a.value,u=a.input;this.setState({value:n,input:u}),this.props.onChange&&n&&this.props.onChange(n),this.handleTouch(n)}},{key:"handleKeyDown",value:function(e){var t=Number(e.target.dataset.id),a=this.textInput[t+1],n=this.textInput[t-1],u=void 0,r=void 0;switch(this.state.filterKeyCodes.length>0&&this.state.filterKeyCodes.map(function(t){if(t===e.keyCode)return e.preventDefault(),!0}),e.keyCode){case 8:e.preventDefault(),this.textInput[t].value="",(u=this.state.input.slice())[t]="",r=u.join(""),this.setState({value:r,input:u}),""===this.textInput[t].value&&n&&(n.focus(),n.select()),this.props.onChange&&this.props.onChange(r);break;case 37:e.preventDefault(),n&&(n.focus(),n.select());break;case 39:e.preventDefault(),a&&(a.focus(),a.select());break;case 38:case 40:e.preventDefault();break;case 69:if("number"===e.target.type){e.preventDefault();break}}this.handleTouch(r)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,u=t.style,r=void 0===u?{}:u,o=t.inputStyle,d=void 0===o?{}:o,s=t.inputStyleInvalid,c=void 0===s?{}:s,p=t.type,f=t.autoFocus,m=t.autoComplete,h=t.pattern,y=t.inputMode,b=t.placeholder,v=this.state,g=v.disabled,x=v.input,C=v.isValid,k=v.defaultInputStyle,w={container:n({display:"inline-block"},r),input:C?d:c};return a||0!==Object.keys(d).length||Object.assign(d,n({},k,{color:"black",backgroundColor:"white",borderColor:"lightgrey"})),a||0!==Object.keys(c).length||Object.assign(c,n({},k,{color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"})),g&&Object.assign(w.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),l.default.createElement("div",{className:(0,i.default)(a,"react-code-input"),style:w.container},x.map(function(t,a){return l.default.createElement("input",{ref:function(t){e.textInput[a]=t},id:e.uuid+"-"+a,"data-id":a,autoFocus:f&&0===a?"autoFocus":"",value:t,key:"input_"+a,type:p,min:0,max:9,maxLength:x.length===a+1?1:x.length,style:w.input,autoComplete:m,onFocus:function(e){return e.target.select(e)},onBlur:function(t){return e.handleBlur(t)},onChange:function(t){return e.handleChange(t)},onKeyDown:function(t){return e.handleKeyDown(t)},disabled:g,"data-valid":C,pattern:h,inputMode:y,placeholder:b})}))}}]),t}();c.defaultProps={autoComplete:"off",autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."],filterCharsIsWhitelist:!1},c.propTypes={type:o.default.oneOf(["text","number","password","tel"]),fields:o.default.number,placeholder:o.default.string,value:o.default.string,onChange:o.default.func,name:o.default.string,touch:o.default.func,untouch:o.default.func,className:o.default.string,isValid:o.default.bool,disabled:o.default.bool,style:o.default.object,inputStyle:o.default.object,inputStyleInvalid:o.default.object,autoComplete:o.default.string,autoFocus:o.default.bool,forceUppercase:o.default.bool,filterKeyCodes:o.default.array,filterChars:o.default.array,filterCharsIsWhitelist:o.default.bool,pattern:o.default.string,inputMode:o.default.oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])},t.default=c,c.__docgenInfo={description:"",methods:[{name:"UNSAFE_componentWillReceiveProps",docblock:null,modifiers:[],params:[{name:"nextProps",type:null}],returns:null},{name:"getFilteredValue",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"getUpdatedStateOnValueChange",docblock:null,modifiers:[],params:[{name:"targetInput",type:null},{name:"value",type:null}],returns:null},{name:"handleValuePropChanged",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"handleBlur",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleTouch",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"handleChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ReactCodeInput",props:{autoComplete:{defaultValue:{value:"'off'",computed:!1},type:{name:"string"},required:!1,description:""},autoFocus:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},isValid:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},disabled:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},forceUppercase:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},fields:{defaultValue:{value:"4",computed:!1},type:{name:"number"},required:!1,description:""},value:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},type:{defaultValue:{value:"'text'",computed:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'number'",computed:!1},{value:"'password'",computed:!1},{value:"'tel'",computed:!1}]},required:!1,description:""},filterKeyCodes:{defaultValue:{value:"[189, 190]",computed:!1},type:{name:"array"},required:!1,description:""},filterChars:{defaultValue:{value:"['-', '.']",computed:!1},type:{name:"array"},required:!1,description:""},filterCharsIsWhitelist:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},placeholder:{type:{name:"string"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},touch:{type:{name:"func"},required:!1,description:""},untouch:{type:{name:"func"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},inputStyle:{type:{name:"object"},required:!1,description:""},inputStyleInvalid:{type:{name:"object"},required:!1,description:""},pattern:{type:{name:"string"},required:!1,description:""},inputMode:{type:{name:"enum",value:[{value:"'verbatim'",computed:!1},{value:"'latin'",computed:!1},{value:"'latin-name'",computed:!1},{value:"'latin-prose'",computed:!1},{value:"'full-width-latin'",computed:!1},{value:"'kana'",computed:!1},{value:"'kana-name'",computed:!1},{value:"'katakana'",computed:!1},{value:"'numeric'",computed:!1},{value:"'tel'",computed:!1},{value:"'email'",computed:!1},{value:"'url'",computed:!1}]},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ReactCodeInput.js"]={name:"ReactCodeInput",docgenInfo:c.__docgenInfo,path:"src/ReactCodeInput.js"})},695:function(e,t,a){a(226),a(696),e.exports=a(697)},697:function(e,t,a){"use strict";(function(e){var t=a(484),n=a(490),u=a(763);(0,t.configure)(function(){u.keys().forEach(function(e){return u(e)})},e),(0,n.setDefaults)({header:!1})}).call(this,a(59)(e))},713:function(e,t,a){var n={"./nestedObjectAssign":491,"./nestedObjectAssign.js":491};function u(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}u.keys=function(){return Object.keys(n)},u.resolve=r,e.exports=u,u.id=713},763:function(e,t,a){var n={"./ReactCodeInput.stories.js":764};function u(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}u.keys=function(){return Object.keys(n)},u.resolve=r,e.exports=u,u.id=763},764:function(e,t,a){"use strict";(function(e){var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=s(a(0)),u=a(484),r=a(209),l=a(765),o=a(490),i=s(a(500)),d=s(a(500));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,u.storiesOf)("ReactCodeInput",e),p=(0,u.storiesOf)("ReactCodeInput/Props",e),f=["text","number","password","tel"],m=["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],h={fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box",color:"black",backgroundColor:"white",borderColor:"lightgrey"},y={fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"3px",border:"1px solid",margin:"4px",paddingLeft:"7px",width:"15px",height:"26px",fontSize:"14px",color:"lightskyblue",backgroundColor:"black",borderColor:"lightskyblue"};c.addDecorator(function(e,t){return(0,o.withInfo)("Details")(e)(t)}),c.addDecorator(l.withKnobs),c.add("Default",function(){return n.default.createElement(i.default,null)}).add("Dark Themed",function(){return n.default.createElement("div",{style:{background:"#222",padding:"10px",width:"140px"}},n.default.createElement(i.default,{inputStyle:y,type:"number"}))}).add("Force Uppercase",function(){return n.default.createElement(d.default,{fields:4,type:"text",forceUppercase:!0,value:"test",onChange:(0,r.action)("onChange")})}),p.addDecorator(function(e,t){return(0,o.withInfo)("Details")(e)(t)}),p.addDecorator(l.withKnobs),p.add("type",function(){return n.default.createElement(i.default,{type:(0,l.select)("Type",f,"text","Type")})}).add("fields",function(){return n.default.createElement(i.default,{fields:(0,l.number)("fields",6)})}).add("placeholder",function(){return n.default.createElement(i.default,{placeholder:(0,l.text)("placeholder","0")})}).add("inputStyle",function(){return n.default.createElement(i.default,{inputStyle:(0,l.object)("inputStyle",h)})}).add("value",function(){return n.default.createElement(i.default,{value:(0,l.text)("value","1234")})}).add("isValid",function(){return n.default.createElement(i.default,{isValid:(0,l.boolean)("isValid",!1)})}).add("inputMode",function(){return n.default.createElement(i.default,{inputMode:(0,l.select)("inputMode",m)})}).add("onChange",function(){return n.default.createElement(i.default,{onChange:(0,r.action)("onChange")})}).add("pattern",function(){return n.default.createElement("form",null,n.default.createElement(i.default,{value:(0,l.text)("value","123"),pattern:(0,l.text)("pattern","[A-Z]")}),n.default.createElement("input",{style:t({},h,{width:"auto",backgroundColor:"lightgray"}),type:"submit",value:"Submit"}))}).add("touch",function(){return n.default.createElement(i.default,{touch:(0,r.action)("touch")})}).add("untouch",function(){return n.default.createElement(i.default,{untouch:(0,r.action)("untouch")})}).add("disabled",function(){return n.default.createElement(i.default,{disabled:(0,l.boolean)("disabled",!0)})})}).call(this,a(59)(e))},771:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}},[[695,3,2]]]);
//# sourceMappingURL=iframe.b5995516a940f70b8c6f.bundle.js.map